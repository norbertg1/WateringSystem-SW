azon gondolkodom, hogy lehet-e? Van ez a funkci√≥:
wifiManager.setAPCallback(go_sleep(SLEEP_TIME_NO_WIFI));

Ez √≠gy nem j√≥, mert helyesen √≠gy lenne:
wifiManager.setAPCallback(go_sleep);
viszont nekem a go_sleep funkci√≥ egy argumentumot v√°r, amit √°tt kell adnom neki.
√ân ezt √∫gy csin√°ln√°m meg hogy beiktatn√©k egy k√∂zbens≈ë funkci√≥t ami majd megh√≠vja v√©g√ºl a go_sleep(valamennyi) funkci√≥t.
√âs ezt a k√∂zbens≈ë funkci√≥t tenn√©m az setAPCallback-ba
Ez √≠gy m≈±k√∂dne, de engem az √©rdekelne, hogy l√©tezik-e valamilyen eleg√°nsabb megold√°s.
Snowboardot nem, √©s nem is nagyon √©rdekel
H√°t az a setAPCcallback biztos funkci√≥ pointert v√°r, az√©rt nem m≈±k√∂dik
Nem lehet, hogy az a setAPCcallback m√©g kaphat valami param√©tereket amikkel megh√≠vja majd azt a funkci√≥t?
H nen, akkor pedig megpr√≥b√°lhatsz lambda kifejez√©st haszn√°lni
https://github.com/tzapu/WiFiManager/blob/master/WiFiManager.cpp
tzapu/WiFiManager
WiFiManager - ESP8266 WiFi Connection manager with web captive portal
github.com
igen pointert v√°r
h√°t szerintem m√°st nem v√°r
ennek a lambda kifejez√©snek ut√°nnan√©zek, lehet ez lesz azaz eleg√°nsabb dolog amit kerestem
vil√°gos nekem hogy √∫gy mi√©rt nem m≈±k√∂dhet, csak az√©rt k√©rdezem mert pr√≥b√°lom csiszolni a programoz√≥ tud√°som
l√°tom ez valami √∫j dolog
Viszonylag √∫j
Hmm, most hirtelen nem is tudom, hogyan lehetne m√°sk√©pp
lehet hogy nincs is eleg√°nsabb megold√°s
persze azn√©lk√ºl hogy m√≥dos√≠tan√°m a WiFiManager::setAPCallback funkci√≥t
mert ugye azt nem √©n √≠rtam nem lenne eleg√°nse belet√∫rni m√°s k√≥dj√°ba √©s a hordozhat√≥s√°got is cs√∂kkenten√©
De ha j√≥l l√°tom, annak a funkci√≥nak amit adsz neki, olyannak kell lennie hogy legyen wifimanager * param√©tere
igen egy√©bk√©nt ezt √©n is csak ut√°nna vettem √©szre
√∫gyhogy ezen nem m≈±k√∂dne
csak azon gondolkodtam el, hogy ha egy funkci√≥nak egy m√°sik funkci√≥ pointer√©t adsz √°tt
akkor van-e valami m√≥d arra hogy ott ne csak a funkci√≥t hanem tetsz≈ëleges v√°ltoz√≥t is √°tadj
ahogy l√°tjuk ebben a p√©ld√°ban van, de itt is el≈ëre megvan hat√°rozva hogy az a wifimanager*
valahogy igy nezhetne ki azzal a lambdaval:
[&](WifiManager * wifi_manager) {go_sleep(valtozo);}
wifiManager.setAPCallback([&](WifiManager * wifi_manager) {go_sleep(valtozo);})
na kirp√≥b√°lom, b√°r ez arduino lehet nem is ismermi a lambd√°t
hmm
naaa lefordult
de kipr√≥b√°lni nem tudom mert most nincs itt ilyen hardverom üòÄ
:D
De legal√°bb lefordult
aha viszont nem eg√©szen j√≥
mert csak akkor fordul le, ha a
a go_sleep funkci√≥ban konstans van
teh√°t egy define √©rt√©k
ami sose v√°ltozik
ha v√°ltoz√≥ van akkor nem j√≥
Mit √≠r ki?
pill
no matching function for call to 'WiFiManager::setAPCallback(setup_wifi()::__lambda3)'
ez egy√©bk√©nt √∂sszhangban van azzal amit mondott a peti
≈ë javascriptet √©rtett az els≈ë sorban
Esetleg k√ºldd el az eg√©sz funkci√≥t ahol haszn√°lod azt a setAPCcallback ot
pill
mindj√°rt csak a github TLS1.2re v√°ltott √∫gy n√©z ki √©s most nem megy a felt√∂lt√©s
https://github.com/xnorbi/Watering-system/blob/master/client/client.ino
lenne rajta mit sz√©p√≠teni üôÇ
Hmmm... Nem tudom mi lehet a baj
Pr√≥b√°ld meg esetleg a & azt √≠rni hogy valami
Helyett
[valami]
wifiManager.setAPCallback([&](WiFiManager * wifi_manager) {go_sleep([valami]);});
fordul
Nem ott
[&] helyett [valami]
wifiManager.setAPCallback([valami](WiFiManager * wifi_manager) {go_sleep(valami);});
√≠gy?
Igen
ugyanaz a hiba mint eddig:
no matching function for call to 'WiFiManager::setAPCallback(setup_wifi()::__lambda3)'
mindenesetre nekem √∫gyis #define √©rt√©k lesz ott √∫gyhogy semmi baj ezzel a megval√≥s√≠t√°ssal
csak √©rdekelne hogy lehet-e
Na majd k√©s≈ëbb ut√°na n√©zek, mert szerintem k√©ne valahogy m≈±k√∂dnie azzal a valami v√°ltoz√≥val is
